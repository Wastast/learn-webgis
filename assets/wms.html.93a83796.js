import{_ as a,o as s,c as t,d as n}from"./app.559f79f4.js";const p={},e=n(`<h1 id="wms" tabindex="-1"><a class="header-anchor" href="#wms" aria-hidden="true">#</a> WMS</h1><p>WMS 是指 OGC 的 Web 地图服务规范（Web Map Service），是一种动态地图服务，用户可以通过在请求 url 中携带所需参数(符合规范的)，根据用户请求返回对应地图数据的可视化结果，实时切片，因此速度较慢，是常用的一种地图服务。</p><p>WMS 定义了一个规范的 HTTP 接口，直接标准的 HTTP 协议 的 GET 和 POST 的请求，但大多都是 GET 请求。能够根据用户的请求参数，返回相应的地图（包括 PNG，GIF，JPEG 等栅格形式或者是 SVG 和 WEB CGM 等矢量形式）。</p><p>GeoServer 支持 WMS 1.1.1 和 1.3.0。</p><blockquote><p>WMS 最广泛使用的版本 是 1.1.1</p></blockquote><h2 id="请求类型" tabindex="-1"><a class="header-anchor" href="#请求类型" aria-hidden="true">#</a> 请求类型</h2><h3 id="getcapabilities" tabindex="-1"><a class="header-anchor" href="#getcapabilities" aria-hidden="true">#</a> GetCapabilities</h3><p>返回服务级元数据，它是对服务信息内容和要求参数的一种描述</p><blockquote><p>以一个 xml 文档形式返回服务级元数据：WMS 的参数（图片格式、WMS 版本兼容性）；图层（包围盒大小、坐标系统、数据位置以及是否透明）</p></blockquote><table><thead><tr><th>参数</th><th>描述</th><th>是否必须</th></tr></thead><tbody><tr><td>VERSION</td><td>WMS 版本号（没有指定时，使用当前服务提供商提供的最高的 wms 版本服务）</td><td>否</td></tr><tr><td>SERVICE=WMS</td><td>当前的 WMS 服务（此项在 1.3.0 版本中必须要求，之前的版本可选）</td><td>是</td></tr><tr><td>REQUEST=GetCapabilities</td><td>请求名称</td><td>是</td></tr></tbody></table><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// VERSION=1.3.0</span>
<span class="token comment">// SERVICE=WMS</span>
<span class="token comment">// REQUEST=GetCapabilities</span>
<span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>someserver<span class="token punctuation">.</span>com<span class="token operator">/</span>wms<span class="token operator">?</span><span class="token constant">VERSION</span><span class="token operator">=</span><span class="token number">1.3</span><span class="token number">.0</span><span class="token operator">&amp;</span><span class="token constant">SERVICE</span><span class="token operator">=</span><span class="token constant">WMS</span><span class="token operator">&amp;</span><span class="token constant">REQUEST</span><span class="token operator">=</span>GetCapabilities
</code></pre></div><h3 id="getmap" tabindex="-1"><a class="header-anchor" href="#getmap" aria-hidden="true">#</a> GetMap</h3><p>返回一个地图影像，其地理空间参考和大小参数是明确定义了的</p><blockquote><p>被地图引擎调用时，都是通过切片算法，调用该方法，返回该范围内的图片数据</p></blockquote><table><thead><tr><th>参数</th><th>描述</th><th>是否必须</th></tr></thead><tbody><tr><td>VERSION=<code>&lt;version&gt;</code></td><td>WMS 版本号</td><td>是</td></tr><tr><td>REQUEST=GetMap</td><td>当前请求的操作类型</td><td>是</td></tr><tr><td>LAYERS=<code>&lt;layer_list&gt;</code></td><td>请求图层，多个图层间用逗号分隔</td><td>是</td></tr><tr><td>STYLES=<code>&lt;style_list&gt;</code></td><td>指定每个图层的渲染风格，多个图层间用逗号分隔</td><td>是</td></tr><tr><td>CRS=<code>namespace:identifier</code></td><td>投影坐标系</td><td>是</td></tr><tr><td>BBOX=<code>minx,miny,maxx,maxy</code></td><td>需要获取的包围盒坐标信息</td><td>是</td></tr><tr><td>WIDTH=<code>&lt;width&gt;</code></td><td>图片宽度</td><td>是</td></tr><tr><td>HEIGHT=<code>&lt;height&gt;</code></td><td>图片高度</td><td>是</td></tr><tr><td>FORMAT=<code>image/png</code></td><td>图片格式</td><td>是</td></tr><tr><td>TRANSPARENT=<code>&lt;boolean&gt;</code></td><td>图片是否透明，默认为 false 不透明</td><td>否</td></tr><tr><td>BGCOLOR=<code>&lt;color_value&gt;</code></td><td>背景颜色 默认为 Oxffffff（白色）</td><td>否</td></tr><tr><td>TIME=<code>&lt;color_value&gt;</code></td><td>请求时间，主要用于元数据中包括时间维度</td><td>否</td></tr><tr><td>ELEVATION=<code>&lt;color_value&gt;</code></td><td>元数据包括高程纬度</td><td>否</td></tr></tbody></table><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>someserver<span class="token punctuation">.</span>com<span class="token operator">/</span>wms<span class="token operator">?</span><span class="token constant">VERSION</span><span class="token operator">=</span><span class="token number">1.3</span><span class="token number">.0</span><span class="token operator">&amp;</span><span class="token constant">REQUEST</span><span class="token operator">=</span>GetMap<span class="token operator">&amp;</span><span class="token constant">CRS</span><span class="token operator">=</span><span class="token constant">CRS</span><span class="token operator">:</span><span class="token number">84</span><span class="token operator">&amp;</span><span class="token constant">BBOX</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">97.105</span><span class="token punctuation">,</span><span class="token number">24.913</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">78.794</span><span class="token punctuation">,</span><span class="token number">36.358</span><span class="token operator">&amp;</span><span class="token constant">WIDTH</span><span class="token operator">=</span><span class="token number">256</span><span class="token operator">&amp;</span><span class="token constant">HEIGHT</span><span class="token operator">=</span><span class="token number">256</span><span class="token operator">&amp;</span><span class="token constant">LAYERS</span><span class="token operator">=</span><span class="token constant">BUILTUPA_1M</span><span class="token punctuation">,</span><span class="token constant">COASTL_1M</span><span class="token punctuation">,</span><span class="token constant">POLBNDL_1M</span><span class="token operator">&amp;</span><span class="token constant">STYLES</span><span class="token operator">=</span><span class="token number">0XFF8080</span><span class="token punctuation">,</span><span class="token number">0X101040</span><span class="token punctuation">,</span><span class="token constant">BLACK</span><span class="token operator">&amp;</span><span class="token constant">FORMAT</span><span class="token operator">=</span>image<span class="token operator">/</span>png<span class="token operator">&amp;</span><span class="token constant">BGCOLOR</span><span class="token operator">=</span><span class="token number">0xFFFFFF</span><span class="token operator">&amp;</span><span class="token constant">TRANSPARENT</span><span class="token operator">=</span><span class="token constant">TRUE</span><span class="token operator">&amp;</span><span class="token constant">EXCEPTIONS</span><span class="token operator">=</span><span class="token constant">INIMAGE</span>
</code></pre></div><h3 id="getfeatureinfo" tabindex="-1"><a class="header-anchor" href="#getfeatureinfo" aria-hidden="true">#</a> GetFeatureInfo</h3><p>获取 getMap 响应地图上某一点的特征数据信息</p><table><thead><tr><th>参数</th><th>描述</th><th>是否必须</th></tr></thead><tbody><tr><td>VERSION=<code>&lt;version&gt;</code></td><td>WMS 版本号</td><td>是</td></tr><tr><td>REQUEST=GetFeatureInfo</td><td>当前请求的操作类型</td><td>是</td></tr><tr><td>QUERY_LAYERS=<code>&lt;layer_list&gt;</code></td><td>查询的图层信息，多个图层以逗号隔开</td><td>是</td></tr><tr><td>INFO_FORMAT=<code>text/html</code></td><td>表示特征信息以何种形式返回</td><td>是</td></tr><tr><td>FEATURE_COUNT=<code>&lt;number&gt;</code></td><td>表示每个层返回的最大特征信息数</td><td>是</td></tr><tr><td><code>&lt;I,X&gt;</code>=<code>&lt;number&gt;</code></td><td>指的是当前 getMap 返回图像 X 方向的像素值(笛卡尔坐标系)</td><td>是</td></tr><tr><td><code>&lt;J,Y&gt;</code>=<code>&lt;number&gt;</code></td><td>指的是当前 getMap 返回图像 Y 方向的像素值(笛卡尔坐标系)</td><td>是</td></tr></tbody></table><blockquote><p>注意，在 WMS 1.3.0 版本中 可以使用 I 和 J ，在 1.1.1 版本中 只接受 X Y</p></blockquote><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>someserver<span class="token punctuation">.</span>com<span class="token operator">/</span>wms<span class="token operator">?</span>request<span class="token operator">=</span>GetFeatureInfo<span class="token operator">&amp;</span><span class="token constant">VERSION</span><span class="token operator">=</span><span class="token number">1.3</span><span class="token number">.0</span><span class="token operator">&amp;</span><span class="token constant">FORMAT</span><span class="token operator">=</span>image<span class="token operator">/</span>jpeg<span class="token operator">&amp;</span><span class="token constant">BBOX</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">4.0325</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2.9078</span><span class="token punctuation">,</span><span class="token number">40.5189</span><span class="token punctuation">,</span><span class="token number">41.6436</span><span class="token operator">&amp;</span><span class="token constant">QUERY_LAYERS</span><span class="token operator">=</span>Countries<span class="token punctuation">,</span>Cities<span class="token operator">&amp;</span><span class="token constant">INFO_FORMAT</span><span class="token operator">=</span>text<span class="token operator">/</span>htmlHEIGHT<span class="token operator">=</span><span class="token number">256</span><span class="token operator">&amp;</span><span class="token constant">WIDTH</span><span class="token operator">=</span><span class="token number">256</span><span class="token operator">&amp;</span><span class="token constant">STYLES</span><span class="token operator">=</span><span class="token operator">&amp;</span><span class="token constant">I</span><span class="token operator">=</span><span class="token number">290</span><span class="token operator">&amp;</span><span class="token constant">J</span><span class="token operator">=</span><span class="token number">246</span><span class="token operator">&amp;</span>
</code></pre></div>`,21),o=[e];function r(c,d){return s(),t("div",null,o)}const k=a(p,[["render",r],["__file","wms.html.vue"]]);export{k as default};
